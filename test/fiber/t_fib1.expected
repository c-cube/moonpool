============
start
wait for subs
await fiber 0
cur fiber is some: true
cur fiber is some: true
res 0 = 0
await fiber 1
cur fiber is some: true
cur fiber is some: true
res 1 = 1
await fiber 2
cur fiber is some: true
cur fiber is some: true
res 2 = 2
await fiber 3
cur fiber is some: true
cur fiber is some: true
res 3 = 3
await fiber 4
cur fiber is some: true
cur fiber is some: true
res 4 = 4
main fiber done
other fib done
main fiber exited
============
start
wait for subs
await fiber 0
fiber 0 resolved as ok
res 0 = 0
await fiber 1
fiber 1 resolved as ok
res 1 = 1
await fiber 2
fiber 2 resolved as ok
res 2 = 2
await fiber 3
fiber 3 resolved as ok
res 3 = 3
await fiber 4
fiber 4 resolved as ok
res 4 = 4
await fiber 5
fiber 5 resolved as ok
res 5 = 5
await fiber 6
res 6 = 6
await fiber 7
fiber 6 resolved as ok
I'm fiber 7 and I'm about toâ€¦
sub-fiber 8 was cancelled
fiber 8 resolved as error
sub-fiber 9 was cancelled
fiber 9 resolved as error
main fiber result: error Failure("oh no!")
fiber 7 resolved as error
main fib failed with "oh no!"
main fiber exited
